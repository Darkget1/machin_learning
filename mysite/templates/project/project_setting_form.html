{% extends 'base.html' %}
{% block content %}
    <div class="container">
        <h5 class="my-3 border-bottom pb-2">프로젝트 수정</h5>
        <form method="post" class="post-form my-3">
            {% csrf_token %}
            <!-- 오류표시 Start -->
            {% if form.errors %}
                <div class="alert alert-danger" role="alert">
                    {% for field in form %}
                        {% if field.errors %}
                            <div>
                                <strong>{{ field.label }}</strong>
                                {{ field.errors }}
                            </div>
                        {% endif %}
                    {% endfor %}
                </div>
            {% endif %}
            <!-- 오류표시 End -->
            <div class="mb-3">
                <div id="brand_add_list">
                    <label for="brand_add" class="form-label">브랜드 추가</label>
                    <input class="btn custom-btn bg-color mt-1" type="button" value="추가" onclick="add_textbox()"><br>
                </div>

                {#                <input type="text" class="form-control" name="brand_add" id="brand_add"#}
                {#                       value="{{ form.brand_add.value|default_if_none:'' }}">#}

            </div>
            <div class="mb-3">
                <label for="target_product" class="form-label">기간1</label>
                <div type="date" class="form-control" name="기간1"
                     rows="10" value="{{ form.date_1st.value|default_if_none:'' }}"></div>
            </div>
            <div class="mb-3">
                <label for="content" class="form-label">기간2</label>
                <div type="date" class="form-control" name="기간2"
                     rows="10" value="{{ form.date_2nd.value|default_if_none:'' }}"></div>
            </div>
            <button type="submit" class="btn custom-btn bg-color mt-3">수정</button>
        </form>
    </div>
<script>
    const add_textbox = () => {
        const brand_add = document.getElementById("brand_add_list");
        const new_brand = document.createElement('new_brand');
        new_brand.innerHTML = "<input class='mt-1' type='text'> <input type='button' name='브랜드추가' class='btn custom-btn bg-color mt-1' value='삭제' onclick='remove(this)'>";
        brand_add.appendChild(new_brand);
    }
    const remove = (obj) => {
        document.getElementById('brand_add_list').removeChild(obj.parentNode);
    }
</script>

{% endblock %}

